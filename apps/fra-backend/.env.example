# ==============================================================================
# fra-backend environment variables
# Copy this file to .env and fill in the values for your environment.
# ==============================================================================

# ------------------------------------------------------------------------------
# General / Server
# ------------------------------------------------------------------------------

# Node environment: "development", "production", or "test"
NODE_ENV=development

# Port the HTTP server listens on (default: 3000)
PORT=3000

# Bind address. In production defaults to 127.0.0.1; in dev it binds all interfaces.
# HOST=0.0.0.0

# Maximum request body size in bytes (default: 1048576 = 1 MB)
# MAX_BODY_BYTES=1048576

# ------------------------------------------------------------------------------
# Database (PostgreSQL)
# ------------------------------------------------------------------------------

# Full PostgreSQL connection string (required in production)
DATABASE_URL=postgresql://user:password@localhost:5432/fra

# Connection-pool tuning (all optional, shown with defaults)
# DB_POOL_MAX=20
# DB_IDLE_TIMEOUT_MS=30000
# DB_CONNECT_TIMEOUT_MS=5000
# DB_STATEMENT_TIMEOUT_MS=30000

# ------------------------------------------------------------------------------
# Authentication (JWT)
# ------------------------------------------------------------------------------

# Secret used to sign access tokens (required in production)
JWT_SECRET=change-me-to-a-random-string

# Secret used to sign refresh tokens (falls back to JWT_SECRET in dev)
# JWT_REFRESH_SECRET=change-me-to-another-random-string

# Access-token lifetime (default: 30m). Accepts ms/s/m/h/d notation.
# JWT_EXPIRES_IN=30m

# Refresh-token lifetime (default: 7d)
# JWT_REFRESH_EXPIRES_IN=7d

# ------------------------------------------------------------------------------
# CORS
# ------------------------------------------------------------------------------

# Comma-separated list of allowed origins (e.g. https://app.example.com)
# In production, requests from unlisted origins are rejected.
CORS_ORIGINS=http://localhost:5173

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------

# Sliding window duration in milliseconds (default: 60000 = 1 min)
# RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window (default: 100)
# RATE_LIMIT_MAX=100

# ------------------------------------------------------------------------------
# Stripe (Payments)
# ------------------------------------------------------------------------------

# Stripe webhook endpoint signing secret (required to verify webhook payloads)
# STRIPE_WEBHOOK_SECRET=whsec_...

# ------------------------------------------------------------------------------
# AWS S3 (File Uploads)
# ------------------------------------------------------------------------------

# S3 bucket name for uploads
# S3_BUCKET=my-fra-bucket

# AWS region for the S3 bucket (falls back to AWS_REGION)
# S3_REGION=eu-west-1
# AWS_REGION=eu-west-1

# Key prefix for uploaded files (default: private/uploads)
# S3_UPLOAD_PREFIX=private/uploads

# Key prefix for download URLs (defaults to S3_UPLOAD_PREFIX)
# S3_DOWNLOAD_PREFIX=private/uploads

# Pre-signed URL expiry in seconds (default: 300 = 5 min)
# S3_URL_EXPIRES_SECONDS=300

# Maximum upload file size in bytes (default: 10485760 = 10 MB)
# S3_MAX_UPLOAD_BYTES=10485760

# Comma-separated list of allowed MIME types for uploads
# S3_ALLOWED_CONTENT_TYPES=application/pdf,image/png,image/jpeg

# ------------------------------------------------------------------------------
# Redis / Upstash
# ------------------------------------------------------------------------------

# Upstash Redis REST API URL
# UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io

# Upstash Redis REST API token
# UPSTASH_REDIS_REST_TOKEN=your-token
